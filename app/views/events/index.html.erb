

<div id='calendar'></div>
<%= javascript_tag do %>
    $(document).ready(function() {

        // page is now ready, initialize the calendar...

        $('#calendar').fullCalendar({
            header: {
              left: 'prev,next today',
              center: 'title',
              right: 'month,agendaWeek,agendaDay'
            },
            defaultView: 'month'

        });
        <% @events.each do |eve| %>
          var myEvent = {
            title:"<%= eve.title %>",
            allDay: true,
            start: new Date(<%= eve.getStart %>),
            end: new Date(<%= eve.getEnd %>)
          };
          $('#calendar').fullCalendar('renderEvent', myEvent)
        <% end %>


    });
<% end %>

<h3> Add New Event </h3>
<%= form_for @event, url: {action: "create"}, html: {class: "nifty_form"} do |f| %>
  <%= label_tag(:title, "Title: ") %>
  <%= f.text_field :title %>
  <br/>
  <%= label_tag(:description, "Description: ") %>
  <%= f.text_field :description %>
  <br/>
  <%= label_tag(:start_date, "Start: ") %>
  <%= f.datetime_select :start_date, :default => { :hour => 23, :minute => 59 }, :minute_step => 30 %>
  <br/>
  <%= label_tag(:end_date, "End: ") %>
  <%= f.datetime_select :end_date, :default => { :hour => 23, :minute => 59 }, :minute_step => 30 %>
  <br/>
  <%= f.submit "Create" %>
<% end %>